<!DOCTYPE html>
<html>
<head>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@ar-js-org/ar.js"></script>
</head>
<body>
    <a-scene embedded arjs>
        <!-- Assets -->
        <a-assets>
            <a-asset-item id="model" src="./result.gltf"></a-asset-item>
        </a-assets>

        <!-- 3D Model (Hidden initially) -->
        <a-entity id="modelEntity" 
                  gltf-model="#model" 
                  visible="false" 
                  scale="1 1 1">
        </a-entity>

        <!-- AR Marker -->
        <a-marker-camera preset="hiro"></a-marker-camera>
    </a-scene>

    <script>
        // Add click event listener to the scene
        document.querySelector("a-scene").addEventListener("click", (event) => {
            const modelEntity = document.querySelector("#modelEntity");

            // Get the clicked position in the scene
            const intersectedPoint = event.detail.intersection && event.detail.intersection.point;

            if (intersectedPoint) {
                // Set the model's position to the clicked location
                modelEntity.setAttribute("position", `${intersectedPoint.x} ${intersectedPoint.y} ${intersectedPoint.z}`);
                modelEntity.setAttribute("visible", "true"); // Make the model visible
            }
        });
    </script>
</body>
</html>
